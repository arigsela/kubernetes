# IAM User for OnCall Agent via Crossplane
# Service account user for OnCall Agent to authenticate with AWS
# Provides access to CloudWatch metrics and EC2 NAT Gateway information
# Follows best practice of dedicated service accounts per application

apiVersion: iam.aws.upbound.io/v1beta1
kind: User
metadata:
  name: oncall-agent-nat-monitor
  labels:
    app: oncall-agent
    component: iam-user
    managed-by: crossplane
spec:
  forProvider:
    path: /serviceaccounts/
    tags:
      Name: "OnCall Agent NAT Monitor Service Account"
      Purpose: "NAT-Gateway-Monitoring"
      ManagedBy: "Crossplane"
      Environment: "homelab"
      Project: "asela-chores"
      ServiceType: "monitoring"
  providerConfigRef:
    name: default
